<!-- Copyright (c) 2020 8th Wall, Inc. -->
<!-- body.html is optional; elements will be added to your html body after app.js is loaded. -->

<a-scene
  xrextras-gesture-detector
  landing-page
  xrextras-loading
  xrextras-runtime-error
  renderer="colorManagement: true"
  xrweb="
    allowedDevices: any;
    defaultEnvironmentFogIntensity: 0.5; 
    defaultEnvironmentFloorTexture: #grass;
    defaultEnvironmentFloorColor: #FFF;
    defaultEnvironmentSkyBottomColor: #B4C4CC; 
    defaultEnvironmentSkyTopColor: #5ac8fa;
    defaultEnvironmentSkyGradientStrength: 0.5;
  ">

  <a-assets>
    <video
      id="alpha-video"
      playsinline
      muted
      crossorigin="anonymous"
      loop="true"
      src="./assets/alpaca.mp4#t=0.001">
    </video>
    <img id="blobShadow" src="./assets/blob-shadow.png">
    <img id="grass" src="./assets/grass.jpg">
  </a-assets>

  <a-camera
    id="camera"
    position="0 4 6"
    raycaster="objects: .cantap"
    cursor="fuse: false; rayOrigin: mouse;">
  </a-camera>

  <a-light type="ambient"></a-light>

  <a-entity
    id="alphaVideo"
    custom-hold-drag="riseHeight: 0.915"
    play-video="video: #alpha-video; autoplay: true"
    material="shader: chromakey; src: #alpha-video; color: 0.1 0.9 0.2; side: double; depthTest: true;"
    geometry="primitive: plane; height: 1; width: 1.78;"
    xrextras-two-finger-rotate
    xrextras-pinch-scale
    look-at="target: #camera; tilt: false"
    position="1 0.915 0"
    scale="3 3 3">
      <a-circle
        position="0 -0.3 0"
        rotation="-90 0 0"
        scale="1.5 0.6 1"
        radius="0.5"
        material="src: #blobShadow; opacity: 0.65; roughness: 0.8; metalness: 0;">
      </a-circle>
  </a-entity>

  <a-plane
    id="ground" 
    rotation="-90 0 0" 
    width="1000" 
    height="1000" 
    material="shader: shadow"
    shadow>
  </a-plane>

</a-scene>
